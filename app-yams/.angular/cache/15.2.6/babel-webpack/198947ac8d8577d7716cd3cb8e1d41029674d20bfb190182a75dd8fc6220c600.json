{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { INGREDIENTS_LISTS as ingredients } from '../mock-pastries';\nimport { Max } from \"../mock-pastries\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction PastrieDetailsComponent_section_0_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 9);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r1.pastrie.url, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction PastrieDetailsComponent_section_0_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function PastrieDetailsComponent_section_0_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.preference(ctx_r4.pastrie.id));\n    });\n    i0.ɵɵtext(1, \" D\\u00E9selectionn\\u00E9 >>\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PastrieDetailsComponent_section_0_ul_10_li_1_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"FIRST\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PastrieDetailsComponent_section_0_ul_10_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, PastrieDetailsComponent_section_0_ul_10_li_1_span_2_Template, 2, 0, \"span\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ingredient_r7 = ctx.$implicit;\n    const first_r8 = ctx.first;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ingredient_r7, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", first_r8);\n  }\n}\nfunction PastrieDetailsComponent_section_0_ul_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 11);\n    i0.ɵɵtemplate(1, PastrieDetailsComponent_section_0_ul_10_li_1_Template, 3, 2, \"li\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.getIngredients(ctx_r3.pastrie.id));\n  }\n}\nfunction PastrieDetailsComponent_section_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"section\", 1);\n    i0.ɵɵtemplate(1, PastrieDetailsComponent_section_0_img_1_Template, 1, 1, \"img\", 2);\n    i0.ɵɵelementStart(2, \"section\", 3)(3, \"h5\", 4);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 5);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function PastrieDetailsComponent_section_0_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.preference(ctx_r10.pastrie.id));\n    });\n    i0.ɵɵtext(8, \" Choice >> \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, PastrieDetailsComponent_section_0_button_9_Template, 2, 0, \"button\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, PastrieDetailsComponent_section_0_ul_10_Template, 2, 1, \"ul\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.pastrie.url);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.pastrie.ref);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.pastrie.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.count && ctx_r0.count === ctx_r0.maxPreference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.pastrie.choice);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.getIngredients(ctx_r0.pastrie.id));\n  }\n}\nexport class PastrieDetailsComponent {\n  constructor() {\n    this.pastrie = null;\n    this.count = null;\n    // pour sortir de l'enfant vers ... Un parent avec un emit \n    this.changePreference = new EventEmitter();\n    this.maxPreference = Max; // éviter le hardcoding = un seul fichier pour les constantes\n  }\n\n  getIngredients(id) {\n    const i = ingredients.find(i => i.id == id);\n    if (i) return i.list;\n    return null;\n  }\n  preference(id) {\n    // console.log(id);\n    // emit une valeur qui passera par le selector vers le parent\n    this.changePreference.emit(id);\n  }\n}\nPastrieDetailsComponent.ɵfac = function PastrieDetailsComponent_Factory(t) {\n  return new (t || PastrieDetailsComponent)();\n};\nPastrieDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PastrieDetailsComponent,\n  selectors: [[\"app-pastrie-details\"]],\n  inputs: {\n    pastrie: \"pastrie\",\n    count: \"count\"\n  },\n  outputs: {\n    changePreference: \"changePreference\"\n  },\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"card\", 4, \"ngIf\"], [1, \"card\"], [\"class\", \"card-img-top\", \"alt\", \"Pastry Category\", 3, \"src\", 4, \"ngIf\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [\"class\", \"btn btn-primary\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"list-group\", 4, \"ngIf\"], [\"alt\", \"Pastry Category\", 1, \"card-img-top\", 3, \"src\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"list-group\"], [\"class\", \"list-group-item active\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-group-item\", \"active\"], [4, \"ngIf\"]],\n  template: function PastrieDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, PastrieDetailsComponent_section_0_Template, 11, 6, \"section\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.pastrie);\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf],\n  styles: [\".card-img-top[_ngcontent-%COMP%] {\\n  width: 100px;\\n  margin: 10px auto;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFzdHJpZS1kZXRhaWxzL3Bhc3RyaWUtZGV0YWlscy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7RUFDQSxpQkFBQTtBQUNKIiwic291cmNlc0NvbnRlbnQiOlsiLmNhcmQtaW1nLXRvcHtcbiAgICB3aWR0aDogMTAwcHg7XG4gICAgbWFyZ2luOiAxMHB4IGF1dG87XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAAmCA,YAAY,QAAQ,eAAe;AAEtE,SAASC,iBAAiB,IAAIC,WAAW,QAAQ,kBAAkB;AACnE,SAASC,GAAG,QAAQ,kBAAkB;;;;;ICFpCC,yBAME;;;;IAHAA,qEAAuB;;;;;;IAQvBA,kCAAyF;IAAzDA;MAAAA;MAAA;MAAA,OAASA,mDAAsB;IAAA,EAAC;IAA0BA,2CAAgB;IAAAA,iBAAS;;;;;IAIhGA,4BAAoB;IAAAA,qBAAK;IAAAA,iBAAO;;;;;IADnDA,8BAAyG;IACvGA,YAAiB;IAAAA,gGAAgC;IACnDA,iBAAK;;;;;IADHA,eAAiB;IAAjBA,8CAAiB;IAAOA,eAAW;IAAXA,+BAAW;;;;;IAFvCA,8BAA0D;IACxDA,uFAEK;IACPA,iBAAK;;;;IAHwBA,eAA+B;IAA/BA,kEAA+B;;;;;;IAf9DA,kCAAsC;IACpCA,kFAME;IACFA,kCAA2B;IACFA,YAAiB;IAAAA,iBAAK;IAC7CA,4BAAqB;IAAAA,YAAkB;IAAAA,iBAAI;IAC3CA,iCAA+G;IAAzDA;MAAAA;MAAA;MAAA,OAASA,qDAAsB;IAAA,EAAC;IAA0BA,2BAAU;IAAAA,iBAAS;IACnIA,wFAAmH;IACrHA,iBAAU;IACVA,kFAIK;IACPA,iBAAU;;;;IAjBLA,eAAiB;IAAjBA,yCAAiB;IAOKA,eAAiB;IAAjBA,wCAAiB;IACnBA,eAAkB;IAAlBA,yCAAkB;IAC/BA,eAA6C;IAA7CA,gFAA6C;IAC3CA,eAAoB;IAApBA,4CAAoB;IAERA,eAAgC;IAAhCA,+DAAgC;;;ADJ1D,OAAM,MAAOC,uBAAuB;EALpCC;IAQW,YAAO,GAAmB,IAAI;IAC9B,UAAK,GAAkB,IAAI;IACpC;IACU,qBAAgB,GAA0B,IAAIN,YAAY,EAAE;IACtE,kBAAa,GAAYG,GAAG,CAAE,CAAC;;;EAE/BI,cAAc,CAACC,EAAU;IACvB,MAAMC,CAAC,GAAGP,WAAW,CAACQ,IAAI,CAACD,CAAC,IAAIA,CAAC,CAACD,EAAE,IAAIA,EAAE,CAAC;IAE3C,IAAGC,CAAC,EAAE,OAAOA,CAAC,CAACE,IAAI;IAEnB,OAAO,IAAI;EACb;EAEAC,UAAU,CAACJ,EAAW;IACpB;IAEA;IACA,IAAI,CAACK,gBAAgB,CAACC,IAAI,CAACN,EAAE,CAAC;EAChC;;AAtBWH,uBAAuB;mBAAvBA,uBAAuB;AAAA;AAAvBA,uBAAuB;QAAvBA,uBAAuB;EAAAU;EAAAC;IAAAC;IAAAC;EAAA;EAAAC;IAAAN;EAAA;EAAAO;EAAAC;EAAAC;EAAAC;IAAA;MCVpCnB,iFAmBU;;;MAnBaA,kCAAa","names":["EventEmitter","INGREDIENTS_LISTS","ingredients","Max","i0","PastrieDetailsComponent","constructor","getIngredients","id","i","find","list","preference","changePreference","emit","selectors","inputs","pastrie","count","outputs","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/richardmelanie/Desktop/patisserie/Pastries/app-yams/src/app/pastrie-details/pastrie-details.component.ts","/Users/richardmelanie/Desktop/patisserie/Pastries/app-yams/src/app/pastrie-details/pastrie-details.component.html"],"sourcesContent":["import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { Pastrie } from '../pastrie';\nimport { INGREDIENTS_LISTS as ingredients } from '../mock-pastries';\nimport { Max } from \"../mock-pastries\"\n\n@Component({\n  selector: 'app-pastrie-details',\n  templateUrl: './pastrie-details.component.html',\n  styleUrls: ['./pastrie-details.component.scss'],\n})\nexport class PastrieDetailsComponent {\n  \n  \n  @Input() pastrie: Pastrie | null = null;\n  @Input() count: number | null = null;\n  // pour sortir de l'enfant vers ... Un parent avec un emit \n  @Output() changePreference : EventEmitter<string> = new EventEmitter();\n  maxPreference : number = Max ; // éviter le hardcoding = un seul fichier pour les constantes\n\n  getIngredients(id: string): string[] | null {\n    const i = ingredients.find(i => i.id == id) ;\n\n    if(i) return i.list ;\n    \n    return null ;\n  }\n\n  preference(id : string){\n    // console.log(id);\n\n    // emit une valeur qui passera par le selector vers le parent\n    this.changePreference.emit(id);\n  }\n}\n","<section class=\"card\" *ngIf=\"pastrie\">\n  <img\n    *ngIf=\"pastrie.url\"\n    class=\"card-img-top\"\n    src=\"{{ pastrie.url }}\"\n    alt=\"Pastry Category\"\n    \n  />\n  <section class=\"card-body\">\n    <h5 class=\"card-title\">{{ pastrie.ref }}</h5>\n    <p class=\"card-text\">{{ pastrie.name }}</p>\n    <button [disabled]=\"count && count === maxPreference\" (click)=\"preference(pastrie.id)\" class=\"btn btn-primary\"> Choice >> </button>\n    <button  *ngIf=\"pastrie.choice\" (click)=\"preference(pastrie.id)\" class=\"btn btn-primary\"> Déselectionné >></button>\n  </section>\n  <ul class=\"list-group\" *ngIf=\"getIngredients(pastrie.id)\">\n    <li *ngFor=\"let ingredient of getIngredients(pastrie.id); first as first\" class=\"list-group-item active\">\n      {{ ingredient }} <span *ngIf=\"first\">FIRST</span>\n    </li>\n  </ul>\n</section>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}